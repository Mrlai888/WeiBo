(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{389:function(t,a,s){"use strict";s.r(a);var n=s(45),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"混合开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#混合开发"}},[t._v("#")]),t._v(" 混合开发")]),t._v(" "),s("h3",{attrs:{id:"原生调用js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原生调用js"}},[t._v("#")]),t._v(" 原生调用js")]),t._v(" "),s("p",[t._v("Native调用JS语言，是通过UIWebView组件的"),s("em",[t._v("stringByEvaluatingJavaScriptFromString")]),t._v("方法来实现的,该方法返回JS脚本的执行结果.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Swift")]),t._v("\nWebView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringByEvaluatingJavaScriptFromString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alert(1)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//OC")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("webView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stringByEvaluatingJavaScriptFromString"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("@"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Math.random();"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"js调用原生"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js调用原生"}},[t._v("#")]),t._v(" js调用原生")]),t._v(" "),s("p",[t._v("定义好JS需要调用的方法，添加到window对象上，则可以在UIWebView加载url完成后，在web页面调用window上的这个对象")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//定义一个点击事件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button onclick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"handleClick()"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//调用原生添加到window的方法（例如调用拍照方法photo)")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("photo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("OC/Swift/Android调用JS\n   直接用一些方法执行我们js中的一些语句，也就是说，我们最好定义一些对象，上面放着一些方法准备被native调用，当然也就可以在这些方法里传点参数啥的给咱们了 \n\nJS调用IOS\n    咱们可以整一个请求发出去，这个请求呢会被native给拦截到，他就知道啥意思了 (Iframe) \n\nJS调用Android \n    也跟调用IOS一样，搞个请求，用个iframe\n      Android能想办法给咱们的window对象上挂个东西，比如JSBridge啥的，然后我们js可以直接调用\n     Android能把咱的prompt、console.log、alert给重写，也就是说咱用alert已经不能弹出了，反而能给Android传参数了，但是一般不会重写alert，重写的都是不怎么用的prompt \n\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);